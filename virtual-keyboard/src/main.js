(()=>{"use strict";const e={button:["keyboard__key","key"],caseDown:"case-down",caseUp:["case-up","hidden"],caps:["caps","hidden"],shiftCaps:["shift-caps","hidden"]};function s(s){const c=document.createElement("div");c.classList.add(e.button[0]),c.classList.add(e.button[1]),c.classList.add(s.class);const a=document.createElement("div");a.classList.add(e.caseDown),a.textContent=s.caseDown;const t=document.createElement("div");t.classList.add(e.caseUp[0]),t.classList.add(e.caseUp[1]),t.textContent=s.caseUp;const o=document.createElement("div");o.classList.add(e.caps[0]),o.classList.add(e.caps[1]),o.textContent=s.caps;const p=document.createElement("div");return p.classList.add(e.shiftCaps[0]),p.classList.add(e.shiftCaps[1]),p.textContent=s.shiftCaps,c.append(a,t,o,p),c}const c=["body__textarea","textarea"],a=["body__keyboard","keyboard"];let t=[];function o(e,s){const c=document.createElement(e);return c.classList.add(s),c}function p(e){if(!Array.isArray(e))throw TypeError("Keyboard error. Button array is invalid.");const p=o("div","centralizer"),i=o("h1","title");i.textContent="RSS Виртуальная клавиатура",p.append(i);const d=o("textarea",c[0]);d.classList.add(c[1]),d.rows=5,d.cols=50,p.append(d);const n=o("div",a[0]);n.classList.add(a[1]),p.append(n);const y=o("div","description");y.textContent="Клавиатура создана в операционной системе Windows",p.append(y);const l=o("div","language");return l.textContent="Для переключения языка комбинация: левые ctrl + alt",p.append(l),e.forEach((e=>{const c=s(e);t.push(c)})),t.forEach((e=>{n.append(e)})),p}const i=[{caseDown:"`",caseUp:"~",caps:"`",shiftCaps:"~",class:"Backquote",code:"Backquote",key:"`",keyCode:"192"},{caseDown:"1",caseUp:"!",caps:"1",shiftCaps:"!",class:"Digit1",code:"Digit1",key:"1",keyCode:"49"},{caseDown:"2",caseUp:"@",caps:"2",shiftCaps:"@",class:"Digit2",code:"Digit2",key:"2",keyCode:"50"},{caseDown:"3",caseUp:"#",caps:"3",shiftCaps:"#",class:"Digit3",code:"Digit3",key:"3",keyCode:"51"},{caseDown:"4",caseUp:"$",caps:"4",shiftCaps:"$",class:"Digit4",code:"Digit4",key:"4",keyCode:"52"},{caseDown:"5",caseUp:"%",caps:"5",shiftCaps:"%",class:"Digit5",code:"Digit5",key:"5",keyCode:"53"},{caseDown:"6",caseUp:"^",caps:"6",shiftCaps:"^",class:"Digit6",code:"Digit6",key:"6",keyCode:"54"},{caseDown:"7",caseUp:"&",caps:"7",shiftCaps:"&",class:"Digit7",code:"Digit7",key:"7",keyCode:"55"},{caseDown:"8",caseUp:"*",caps:"8",shiftCaps:"*",class:"Digit8",code:"Digit8",key:"8",keyCode:"56"},{caseDown:"9",caseUp:"(",caps:"9",shiftCaps:"(",class:"Digit9",code:"Digit9",key:"9",keyCode:"57"},{caseDown:"0",caseUp:")",caps:"0",shiftCaps:")",class:"Digit0",code:"Digit0",key:"0",keyCode:"48"},{caseDown:"-",caseUp:"-",caps:"-",shiftCaps:"_",class:"Minus",code:"Minus",key:"-",keyCode:"190"},{caseDown:"=",caseUp:"+",caps:"=",shiftCaps:"+",class:"Equal",code:"Equal",key:"=",keyCode:"187"},{caseDown:"Backspace",caseUp:"Backspace",caps:"Backspace",shiftCaps:"Backspace",class:"Backspace",code:"Backspace",key:"Backspace",keyCode:"8"},{caseDown:"Tab",caseUp:"Tab",caps:"Tab",shiftCaps:"Tab",class:"Tab",code:"Tab",key:"Tab",keyCode:"9"},{caseDown:"q",caseUp:"Q",caps:"Q",shiftCaps:"q",class:"KeyQ",code:"KeyQ",key:"q",keyCode:"81"},{caseDown:"w",caseUp:"W",caps:"W",shiftCaps:"w",class:"KeyW",code:"KeyW",key:"w",keyCode:"87"},{caseDown:"e",caseUp:"E",caps:"E",shiftCaps:"e",class:"KeyE",code:"KeyE",key:"e",keyCode:"69"},{caseDown:"r",caseUp:"R",caps:"R",shiftCaps:"r",class:"KeyR",code:"KeyR",key:"r",keyCode:"82"},{caseDown:"t",caseUp:"T",caps:"T",shiftCaps:"t",class:"KeyT",code:"KeyT",key:"t",keyCode:"84"},{caseDown:"y",caseUp:"Y",caps:"Y",shiftCaps:"y",class:"KeyY",code:"KeyY",key:"y",keyCode:"89"},{caseDown:"u",caseUp:"U",caps:"U",shiftCaps:"u",class:"KeyU",code:"KeyU",key:"u",keyCode:"85"},{caseDown:"i",caseUp:"I",caps:"I",shiftCaps:"i",class:"KeyI",code:"KeyI",key:"i",keyCode:"73"},{caseDown:"o",caseUp:"O",caps:"O",shiftCaps:"o",class:"KeyO",code:"KeyO",key:"o",keyCode:"79"},{caseDown:"p",caseUp:"P",caps:"P",shiftCaps:"p",class:"KeyP",code:"KeyP",key:"p",keyCode:"80"},{caseDown:"[",caseUp:"{",caps:"[",shiftCaps:"{",class:"BracketLeft",code:"BracketLeft",key:"[",keyCode:"219"},{caseDown:"]",caseUp:"}",caps:"]",shiftCaps:"}",class:"BracketRight",code:"BracketRight",key:"]",keyCode:"221"},{caseDown:"\\",caseUp:"|",caps:"\\",shiftCaps:"|",class:"Backslash",code:"Backslash",key:"\\",keyCode:"220"},{caseDown:"Del",caseUp:"Del",caps:"Del",shiftCaps:"Del",class:"Delete",code:"Delete",key:"Delete",keyCode:"46"},{caseDown:"CapsLock",caseUp:"CapsLock",caps:"CapsLock",shiftCaps:"CapsLock",class:"CapsLock",code:"CapsLock",key:"CapsLock",keyCode:"20"},{caseDown:"a",caseUp:"A",caps:"A",shiftCaps:"a",class:"KeyA",code:"KeyA",key:"a",keyCode:"65"},{caseDown:"s",caseUp:"S",caps:"S",shiftCaps:"s",class:"KeyS",code:"KeyS",key:"s",keyCode:"83"},{caseDown:"d",caseUp:"D",caps:"D",shiftCaps:"d",class:"KeyD",code:"KeyD",key:"d",keyCode:"68"},{caseDown:"f",caseUp:"F",caps:"F",shiftCaps:"f",class:"KeyF",code:"KeyF",key:"f",keyCode:"70"},{caseDown:"g",caseUp:"G",caps:"G",shiftCaps:"g",class:"KeyG",code:"KeyG",key:"g",keyCode:"71"},{caseDown:"h",caseUp:"H",caps:"H",shiftCaps:"h",class:"KeyH",code:"KeyH",key:"h",keyCode:"72"},{caseDown:"j",caseUp:"J",caps:"J",shiftCaps:"j",class:"KeyJ",code:"KeyJ",key:"j",keyCode:"74"},{caseDown:"k",caseUp:"K",caps:"K",shiftCaps:"k",class:"KeyK",code:"KeyK",key:"k",keyCode:"75"},{caseDown:"l",caseUp:"L",caps:"L",shiftCaps:"l",class:"KeyL",code:"KeyL",key:"l",keyCode:"76"},{caseDown:";",caseUp:":",caps:";",shiftCaps:":",class:"Semicolon",code:"Semicolon",key:";",keyCode:"186"},{caseDown:"'",caseUp:'"',caps:"'",shiftCaps:'"',class:"Quote",code:"Quote",key:"'",keyCode:"222"},{caseDown:"Enter",caseUp:"Enter",caps:"Enter",shiftCaps:"Enter",class:"Enter",code:"Enter",key:"Enter",keyCode:"13"},{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift",class:"ShiftLeft",code:"ShiftLeft",key:"Shift",keyCode:"16"},{caseDown:"z",caseUp:"Z",caps:"Z",shiftCaps:"z",class:"KeyZ",code:"KeyZ",key:"z",keyCode:"90"},{caseDown:"x",caseUp:"X",caps:"X",shiftCaps:"x",class:"KeyX",code:"KeyX",key:"x",keyCode:"88"},{caseDown:"c",caseUp:"C",caps:"C",shiftCaps:"c",class:"KeyC",code:"KeyC",key:"c",keyCode:"67"},{caseDown:"v",caseUp:"V",caps:"V",shiftCaps:"v",class:"KeyV",code:"KeyV",key:"v",keyCode:"86"},{caseDown:"b",caseUp:"B",caps:"B",shiftCaps:"b",class:"KeyB",code:"KeyB",key:"b",keyCode:"66"},{caseDown:"n",caseUp:"N",caps:"N",shiftCaps:"n",class:"KeyN",code:"KeyN",key:"n",keyCode:"78"},{caseDown:"m",caseUp:"M",caps:"M",shiftCaps:"m",class:"KeyM",code:"KeyM",key:"m",keyCode:"77"},{caseDown:",",caseUp:"<",caps:",",shiftCaps:"<",class:"Comma",code:"Comma",key:",",keyCode:"188"},{caseDown:".",caseUp:">",caps:".",shiftCaps:">",class:"Period",code:"Period",key:".",keyCode:"190"},{caseDown:"/",caseUp:"?",caps:"/",shiftCaps:"?",class:"Slash",code:"Slash",key:"/",keyCode:"191"},{caseDown:"▲",caseUp:"▲",caps:"▲",shiftCaps:"▲",class:"ArrowUp",code:"ArrowUp",key:"ArrowUp",keyCode:"38"},{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift",class:"ShiftRight",code:"ShiftRight",key:"Shift",keyCode:"16"},{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl",class:"ControlLeft",code:"ControlLeft",key:"Control",keyCode:"17"},{caseDown:"Win",caseUp:"Win",caps:"Win",shiftCaps:"Win",class:"MetaLeft",code:"MetaLeft",key:"Meta",keyCode:"91"},{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt",class:"AltLeft",code:"AltLeft",key:"Alt",keyCode:"18"},{caseDown:" ",caseUp:" ",caps:" ",shiftCaps:" ",class:"Space",code:"Space",key:" ",keyCode:"32"},{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt",class:"AltRight",code:"AltRight",key:"Alt",keyCode:"18"},{caseDown:"◄",caseUp:"◄",caps:"◄",shiftCaps:"◄",class:"ArrowLeft",code:"ArrowLeft",key:"ArrowLeft",keyCode:"37"},{caseDown:"▼",caseUp:"▼",caps:"▼",shiftCaps:"▼",class:"ArrowDown",code:"ArrowDown",key:"ArrowDown",keyCode:"40"},{caseDown:"►",caseUp:"►",caps:"►",shiftCaps:"►",class:"ArrowRight",code:"ArrowRight",key:"ArrowRight",keyCode:"39"},{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl",class:"ControlRight",code:"ControlRight",key:"Control",keyCode:"17"}],d=[{caseDown:"ё",caseUp:"Ё",caps:"Ё",shiftCaps:"ё",class:"Backquote",code:"Backquote",key:"`",keyCode:"192"},{caseDown:"1",caseUp:"!",caps:"1",shiftCaps:"!",class:"Digit1",code:"Digit1",key:"1",keyCode:"49"},{caseDown:"2",caseUp:'"',caps:"2",shiftCaps:'"',class:"Digit2",code:"Digit2",key:"2",keyCode:"50"},{caseDown:"3",caseUp:"№",caps:"3",shiftCaps:"№",class:"Digit3",code:"Digit3",key:"3",keyCode:"51"},{caseDown:"4",caseUp:";",caps:"4",shiftCaps:";",class:"Digit4",code:"Digit4",key:"4",keyCode:"52"},{caseDown:"5",caseUp:"%",caps:"5",shiftCaps:"%",class:"Digit5",code:"Digit5",key:"5",keyCode:"53"},{caseDown:"6",caseUp:":",caps:"6",shiftCaps:":",class:"Digit6",code:"Digit6",key:"6",keyCode:"54"},{caseDown:"7",caseUp:"?",caps:"7",shiftCaps:"?",class:"Digit7",code:"Digit7",key:"7",keyCode:"55"},{caseDown:"8",caseUp:"*",caps:"8",shiftCaps:"*",class:"Digit8",code:"Digit8",key:"8",keyCode:"56"},{caseDown:"9",caseUp:"(",caps:"9",shiftCaps:"(",class:"Digit9",code:"Digit9",key:"9",keyCode:"57"},{caseDown:"0",caseUp:")",caps:"0",shiftCaps:")",class:"Digit0",code:"Digit0",key:"0",keyCode:"48"},{caseDown:"-",caseUp:"_",caps:"-",shiftCaps:"_",class:"Minus",code:"Minus",key:"-",keyCode:"190"},{caseDown:"=",caseUp:"+",caps:"=",shiftCaps:"+",class:"Equal",code:"Equal",key:"=",keyCode:"187"},{caseDown:"Backspace",caseUp:"Backspace",caps:"Backspace",shiftCaps:"Backspace",class:"Backspace",code:"Backspace",key:"Backspace",keyCode:"8"},{caseDown:"Tab",caseUp:"Tab",caps:"Tab",shiftCaps:"Tab",class:"Tab",code:"Tab",key:"Tab",keyCode:"9"},{caseDown:"й",caseUp:"Й",caps:"Й",shiftCaps:"й",class:"KeyQ",code:"KeyQ",key:"q",keyCode:"81"},{caseDown:"ц",caseUp:"Ц",caps:"Ц",shiftCaps:"ц",class:"KeyW",code:"KeyW",key:"w",keyCode:"87"},{caseDown:"у",caseUp:"У",caps:"У",shiftCaps:"у",class:"KeyE",code:"KeyE",key:"e",keyCode:"69"},{caseDown:"к",caseUp:"К",caps:"К",shiftCaps:"к",class:"KeyR",code:"KeyR",key:"r",keyCode:"82"},{caseDown:"е",caseUp:"Е",caps:"Е",shiftCaps:"е",class:"KeyT",code:"KeyT",key:"t",keyCode:"84"},{caseDown:"н",caseUp:"Н",caps:"Н",shiftCaps:"н",class:"KeyY",code:"KeyY",key:"y",keyCode:"89"},{caseDown:"г",caseUp:"Г",caps:"Г",shiftCaps:"м",class:"KeyU",code:"KeyU",key:"u",keyCode:"85"},{caseDown:"ш",caseUp:"Ш",caps:"Ш",shiftCaps:"ш",class:"KeyI",code:"KeyI",key:"i",keyCode:"73"},{caseDown:"щ",caseUp:"Щ",caps:"Щ",shiftCaps:"м",class:"KeyO",code:"KeyO",key:"o",keyCode:"79"},{caseDown:"з",caseUp:"З",caps:"З",shiftCaps:"з",class:"KeyP",code:"KeyP",key:"p",keyCode:"80"},{caseDown:"х",caseUp:"Х",caps:"Х",shiftCaps:"х",class:"BracketLeft",code:"BracketLeft",key:"[",keyCode:"219"},{caseDown:"ъ",caseUp:"Ъ",caps:"Ъ",shiftCaps:"ъ",class:"BracketRight",code:"BracketRight",key:"]",keyCode:"221"},{caseDown:"\\",caseUp:"/",caps:"\\",shiftCaps:"/",class:"Backslash",code:"Backslash",key:"\\",keyCode:"220"},{caseDown:"Del",caseUp:"Del",caps:"Del",shiftCaps:"Del",class:"Delete",code:"Delete",key:"Delete",keyCode:"46"},{caseDown:"CapsLock",caseUp:"CapsLock",caps:"CapsLock",shiftCaps:"CapsLock",class:"CapsLock",code:"CapsLock",key:"CapsLock",keyCode:"20"},{caseDown:"ф",caseUp:"Ф",caps:"Ф",shiftCaps:"ф",class:"KeyA",code:"KeyA",key:"a",keyCode:"65"},{caseDown:"ы",caseUp:"Ы",caps:"Ы",shiftCaps:"ы",class:"KeyS",code:"KeyS",key:"s",keyCode:"83"},{caseDown:"в",caseUp:"В",caps:"В",shiftCaps:"в",class:"KeyD",code:"KeyD",key:"d",keyCode:"68"},{caseDown:"а",caseUp:"А",caps:"А",shiftCaps:"а",class:"KeyF",code:"KeyF",key:"f",keyCode:"70"},{caseDown:"п",caseUp:"П",caps:"П",shiftCaps:"п",class:"KeyG",code:"KeyG",key:"g",keyCode:"71"},{caseDown:"р",caseUp:"Р",caps:"Р",shiftCaps:"р",class:"KeyH",code:"KeyH",key:"h",keyCode:"72"},{caseDown:"о",caseUp:"О",caps:"О",shiftCaps:"о",class:"KeyJ",code:"KeyJ",key:"j",keyCode:"74"},{caseDown:"л",caseUp:"Л",caps:"Л",shiftCaps:"л",class:"KeyK",code:"KeyK",key:"k",keyCode:"75"},{caseDown:"д",caseUp:"Д",caps:"Д",shiftCaps:"д",class:"KeyL",code:"KeyL",key:"l",keyCode:"76"},{caseDown:"ж",caseUp:"Ж",caps:"Ж",shiftCaps:"ж",class:"Semicolon",code:"Semicolon",key:";",keyCode:"186"},{caseDown:"э",caseUp:"Э",caps:"Э",shiftCaps:"э",class:"Quote",code:"Quote",key:"'",keyCode:"222"},{caseDown:"Enter",caseUp:"Enter",caps:"Enter",shiftCaps:"Enter",class:"Enter",code:"Enter",key:"Enter",keyCode:"13"},{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift",class:"ShiftLeft",code:"ShiftLeft",key:"Shift",keyCode:"16"},{caseDown:"я",caseUp:"Я",caps:"Я",shiftCaps:"я",class:"KeyZ",code:"KeyZ",key:"z",keyCode:"90"},{caseDown:"ч",caseUp:"Ч",caps:"Ч",shiftCaps:"ч",class:"KeyX",code:"KeyX",key:"x",keyCode:"88"},{caseDown:"с",caseUp:"С",caps:"С",shiftCaps:"с",class:"KeyC",code:"KeyC",key:"c",keyCode:"67"},{caseDown:"м",caseUp:"М",caps:"М",shiftCaps:"м",class:"KeyV",code:"KeyV",key:"v",keyCode:"86"},{caseDown:"и",caseUp:"И",caps:"И",shiftCaps:"и",class:"KeyB",code:"KeyB",key:"b",keyCode:"66"},{caseDown:"т",caseUp:"Т",caps:"Т",shiftCaps:"т",class:"KeyN",code:"KeyN",key:"n",keyCode:"78"},{caseDown:"ь",caseUp:"Ь",caps:"Ь",shiftCaps:"ь",class:"KeyM",code:"KeyM",key:"m",keyCode:"77"},{caseDown:"б",caseUp:"Б",caps:"Б",shiftCaps:"б",class:"Comma",code:"Comma",key:",",keyCode:"188"},{caseDown:"ю",caseUp:"Ю",caps:"Ю",shiftCaps:"ю",class:"Period",code:"Period",key:".",keyCode:"190"},{caseDown:".",caseUp:",",caps:".",shiftCaps:",",class:"Slash",code:"Slash",key:"/",keyCode:"191"},{caseDown:"▲",caseUp:"▲",caps:"▲",shiftCaps:"▲",class:"ArrowUp",code:"ArrowUp",key:"ArrowUp",keyCode:"38"},{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift",class:"ShiftRight",code:"ShiftRight",key:"Shift",keyCode:"16"},{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl",class:"ControlLeft",code:"ControlLeft",key:"Control",keyCode:"17"},{caseDown:"Win",caseUp:"Win",caps:"Win",shiftCaps:"Win",class:"MetaLeft",code:"MetaLeft",key:"Meta",keyCode:"91"},{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt",class:"AltLeft",code:"AltLeft",key:"Alt",keyCode:"18"},{caseDown:" ",caseUp:" ",caps:" ",shiftCaps:" ",class:"Space",code:"Space",key:" ",keyCode:"32"},{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt",class:"AltRight",code:"AltRight",key:"Alt",keyCode:"18"},{caseDown:"◄",caseUp:"◄",caps:"◄",shiftCaps:"◄",class:"ArrowLeft",code:"ArrowLeft",key:"ArrowLeft",keyCode:"37"},{caseDown:"▼",caseUp:"▼",caps:"▼",shiftCaps:"▼",class:"ArrowDown",code:"ArrowDown",key:"ArrowDown",keyCode:"40"},{caseDown:"►",caseUp:"►",caps:"►",shiftCaps:"►",class:"ArrowRight",code:"ArrowRight",key:"ArrowRight",keyCode:"39"},{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl",class:"ControlRight",code:"ControlRight",key:"Control",keyCode:"17"}];let n="en",y=[];function l(){localStorage.getItem("language")&&(n=localStorage.getItem("language"))}window.addEventListener("load",l);const C=e=>{y=[];let c=document.querySelector(".keyboard");c.innerHTML="",e.forEach((e=>{const c=s(e);y.push(c)})),y.forEach((e=>{c.append(e)}))},k=()=>{let e=document.querySelector(".textarea"),s=0;if(document.selection){e.focus();let c=document.selection.createRange();c.moveStart("character",-e.value.length),s=c.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(s=e.selectionStart);return s},r=e=>{let s=k(),c=document.querySelector(".textarea"),a=c.value.split("");a.splice(s,0,e),c.value=a.join(""),c.focus(),"    "===e?(c.selectionStart=s+4,c.selectionEnd=s+4):(c.selectionStart=s+1,c.selectionEnd=s+1)},h=()=>{document.querySelectorAll(".case-down").forEach((e=>{e.classList.add("hidden")}))},f=()=>{document.querySelectorAll(".caps").forEach((e=>{e.classList.add("hidden")}))},D=()=>{document.querySelectorAll(".case-up").forEach((e=>{e.classList.add("hidden")}))},w=()=>{document.querySelectorAll(".shift-caps").forEach((e=>{e.classList.add("hidden")}))},u=()=>{h(),w(),D(),document.querySelectorAll(".caps").forEach((e=>{e.classList.remove("hidden")}))},U=()=>{let e=document.querySelector(".CapsLock");e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")},L=()=>{w(),D(),f(),document.querySelectorAll(".case-down").forEach((e=>{e.classList.remove("hidden")}))},K=()=>{document.querySelector(".CapsLock").classList.contains("active")?u():L()},S=e=>{let s=e.innerHTML,c=s.split("");1===c.length&&r(s),"&amp;"===s&&r(c[0]),"CapsLock"===s&&(U(),K()),"Backspace"===s&&(()=>{let e=k(),s=document.querySelector(".textarea"),c=s.value.split("");c.splice(e-1,1),s.value=c.join(""),s.focus(),s.selectionStart=e-1,s.selectionEnd=e-1})(),"Del"===s&&(()=>{let e=k(),s=document.querySelector(".textarea"),c=s.value.split("");c.splice(e,1),s.value=c.join(""),s.focus(),s.selectionStart=e,s.selectionEnd=e})(),"Enter"===s&&r("\n"),e.classList.contains("Space")&&r(" "),"Tab"===s&&r("    ")};let g=[];i.forEach((e=>{g.push(e.class)})),document.addEventListener("keyup",(e=>{let s=document.querySelector(".ShiftLeft"),c=document.querySelector(".ShiftRight");"ShiftLeft"===e.code&&s.classList.remove("active"),"ShiftRight"===e.code&&c.classList.remove("active")}));const m=()=>{y=[],"en"===n?(n="ru",localStorage.setItem("language",n),C(d)):(n="en",localStorage.setItem("language",n),C(i))},A=()=>{document.querySelector(".AltLeft").classList.add("active"),document.querySelector(".ControlLeft").classList.add("active")};!function(e,...s){let c=new Set;document.addEventListener("keydown",(a=>{"CapsLock"!==a.code&&g.includes(a.code)&&(c.add(a.code),(e=>{e.forEach((e=>{document.querySelector(`.${e}`).classList.add("active")}))})(c));for(let e of s)if(!c.has(e))return;c.clear(),e()})),document.addEventListener("keyup",(e=>{(e=>{e.forEach((e=>{"ShiftLeft"!==e&&"ShiftRight"!==e&&document.querySelector(`.${e}`).classList.remove("active")}))})(c),c.delete(e.code)}))}((()=>{document.querySelector(".CapsLock").classList.contains("active")?(m(),K(),A(),U()):(m(),A())}),"ControlLeft","AltLeft"),document.addEventListener("keyup",(e=>{let s=document.querySelector(".AltLeft");"AltLeft"===e.code&&s.classList.remove("active");let c=document.querySelector(".ControlLeft");"AltLeft"===e.code&&c.classList.remove("active")}));const v=()=>{D(),f(),h(),document.querySelectorAll(".shift-caps").forEach((e=>{e.classList.remove("hidden")}))},E=()=>{h(),f(),w(),document.querySelectorAll(".case-up").forEach((e=>{e.classList.remove("hidden")}))};document.addEventListener("keydown",(e=>{let s=document.querySelector(".CapsLock");"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||!s.classList.contains("active")||v(),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||s.classList.contains("active")||E()})),document.addEventListener("keyup",(e=>{let s=document.querySelector(".CapsLock");"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||!s.classList.contains("active")||u(),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||s.classList.contains("active")||L()})),document.addEventListener("mousedown",(e=>{let s=document.querySelector(".CapsLock");"Shift"===e.target.innerHTML&&s.classList.contains("active")&&v(),"Shift"!==e.target.innerHTML||s.classList.contains("active")||E()})),document.addEventListener("mouseup",(e=>{let s=document.querySelector(".CapsLock");"Shift"===e.target.innerHTML&&s.classList.contains("active")&&u(),"Shift"!==e.target.innerHTML||s.classList.contains("active")||L()})),(()=>{if(l(),"en"===n){const e=p(i);document.body.append(e)}else{const e=p(d);document.body.append(e),C(d)}})(),document.querySelector(".keyboard").addEventListener("click",(e=>{let s=e.target;S(s)})),document.addEventListener("keydown",(e=>{(e=>{let s=document.querySelector(".CapsLock");"CapsLock"!==e.code||s.classList.contains("active")?"CapsLock"===e.code&&s.classList.contains("active")&&(s.classList.remove("active"),L()):(s.classList.add("active"),K())})(e),e.preventDefault();let s=document.querySelector(`.${e.code}`);try{let e=s.childNodes;Array.prototype.slice.call(e).forEach((e=>{e.classList.contains("hidden")||"CapsLock"!==e.innerHTML&&S(e)}))}catch(s){e.preventDefault()}}))})();